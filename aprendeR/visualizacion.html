<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>aprendeR</title>
  <meta name="description" content="aprendeR">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="aprendeR" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="aprendeR" />
  
  
  

<meta name="author" content="Andrea Fernández Conde">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="datos-limpios.html">
<link rel="next" href="material-adicional-3.html">
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="assets/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="estilos.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="r-lo-basico.html"><a href="r-lo-basico.html"><i class="fa fa-check"></i><b>2</b> R: lo básico</a><ul>
<li class="chapter" data-level="2.1" data-path="instalacion.html"><a href="instalacion.html"><i class="fa fa-check"></i><b>2.1</b> Instalación</a></li>
<li class="chapter" data-level="2.2" data-path="editores.html"><a href="editores.html"><i class="fa fa-check"></i><b>2.2</b> Editores</a><ul>
<li class="chapter" data-level="2.2.1" data-path="editores.html"><a href="editores.html#rstudio"><i class="fa fa-check"></i><b>2.2.1</b> RStudio</a></li>
<li class="chapter" data-level="2.2.2" data-path="editores.html"><a href="editores.html#ess"><i class="fa fa-check"></i><b>2.2.2</b> ESS</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="el-espacio-de-trabajo-workspace.html"><a href="el-espacio-de-trabajo-workspace.html"><i class="fa fa-check"></i><b>2.3</b> El espacio de trabajo (Workspace)</a><ul>
<li class="chapter" data-level="2.3.1" data-path="el-espacio-de-trabajo-workspace.html"><a href="el-espacio-de-trabajo-workspace.html#directorio-de-trabajo"><i class="fa fa-check"></i><b>2.3.1</b> Directorio de trabajo</a></li>
<li class="chapter" data-level="2.3.2" data-path="el-espacio-de-trabajo-workspace.html"><a href="el-espacio-de-trabajo-workspace.html#ejemplos-basicos"><i class="fa fa-check"></i><b>2.3.2</b> Ejemplos básicos</a></li>
<li class="chapter" data-level="2.3.3" data-path="el-espacio-de-trabajo-workspace.html"><a href="el-espacio-de-trabajo-workspace.html#comandos-utiles"><i class="fa fa-check"></i><b>2.3.3</b> Comandos útiles</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="paquetes-libraries.html"><a href="paquetes-libraries.html"><i class="fa fa-check"></i><b>2.4</b> Paquetes (<em>libraries</em>)</a><ul>
<li class="chapter" data-level="2.4.1" data-path="paquetes-libraries.html"><a href="paquetes-libraries.html#cran"><i class="fa fa-check"></i><b>2.4.1</b> CRAN</a></li>
<li class="chapter" data-level="2.4.2" data-path="paquetes-libraries.html"><a href="paquetes-libraries.html#github"><i class="fa fa-check"></i><b>2.4.2</b> Github</a></li>
<li class="chapter" data-level="2.4.3" data-path="paquetes-libraries.html"><a href="paquetes-libraries.html#otras-fuentes"><i class="fa fa-check"></i><b>2.4.3</b> Otras fuentes</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="paquetes-recomendados.html"><a href="paquetes-recomendados.html"><i class="fa fa-check"></i><b>2.5</b> Paquetes recomendados</a></li>
<li class="chapter" data-level="2.6" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>2.6</b> Scripting</a></li>
<li class="chapter" data-level="2.7" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>2.7</b> rmarkdown</a><ul>
<li class="chapter" data-level="2.7.1" data-path="rmarkdown.html"><a href="rmarkdown.html#encabezado-y-formatos"><i class="fa fa-check"></i><b>2.7.1</b> Encabezado y formatos</a></li>
<li class="chapter" data-level="2.7.2" data-path="rmarkdown.html"><a href="rmarkdown.html#knitr-chunks"><i class="fa fa-check"></i><b>2.7.2</b> Knitr chunks</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="ayuda-y-documentacion.html"><a href="ayuda-y-documentacion.html"><i class="fa fa-check"></i><b>2.8</b> Ayuda y documentación</a></li>
<li class="chapter" data-level="2.9" data-path="optimizando.html"><a href="optimizando.html"><i class="fa fa-check"></i><b>2.9</b> Optimizando</a></li>
<li class="chapter" data-level="2.10" data-path="material-adicional.html"><a href="material-adicional.html"><i class="fa fa-check"></i><b>2.10</b> Material adicional</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructuras-y-funciones.html"><a href="estructuras-y-funciones.html"><i class="fa fa-check"></i><b>3</b> Estructuras y funciones</a><ul>
<li class="chapter" data-level="3.1" data-path="objetos.html"><a href="objetos.html"><i class="fa fa-check"></i><b>3.1</b> Objetos</a></li>
<li class="chapter" data-level="3.2" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>3.2</b> Funciones</a><ul>
<li class="chapter" data-level="3.2.1" data-path="funciones.html"><a href="funciones.html#componentes-de-una-funcion"><i class="fa fa-check"></i><b>3.2.1</b> Componentes de una función</a></li>
<li class="chapter" data-level="3.2.2" data-path="funciones.html"><a href="funciones.html#el-ambiente"><i class="fa fa-check"></i><b>3.2.2</b> El ambiente</a></li>
<li class="chapter" data-level="3.2.3" data-path="funciones.html"><a href="funciones.html#reglas-de-visibilidad-scoping"><i class="fa fa-check"></i><b>3.2.3</b> Reglas de visibilidad (scoping)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html"><i class="fa fa-check"></i><b>3.3</b> Estructuras de datos</a><ul>
<li class="chapter" data-level="3.3.1" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#clases-atomicas-atomic-classes"><i class="fa fa-check"></i><b>3.3.1</b> Clases atómicas (atomic classes)</a></li>
<li class="chapter" data-level="3.3.2" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#vectores"><i class="fa fa-check"></i><b>3.3.2</b> Vectores</a></li>
<li class="chapter" data-level="3.3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#matrices"><i class="fa fa-check"></i><b>3.3.3</b> Matrices</a></li>
<li class="chapter" data-level="3.3.4" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#listas"><i class="fa fa-check"></i><b>3.3.4</b> Listas</a></li>
<li class="chapter" data-level="3.3.5" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#factores-factor"><i class="fa fa-check"></i><b>3.3.5</b> Factores (factor)</a></li>
<li class="chapter" data-level="3.3.6" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#data-frames"><i class="fa fa-check"></i><b>3.3.6</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="estructuras-de-datos-fuera-de-r-basico.html"><a href="estructuras-de-datos-fuera-de-r-basico.html"><i class="fa fa-check"></i><b>3.4</b> Estructuras de datos fuera de R-básico</a><ul>
<li class="chapter" data-level="3.4.1" data-path="estructuras-de-datos-fuera-de-r-basico.html"><a href="estructuras-de-datos-fuera-de-r-basico.html#data-tables"><i class="fa fa-check"></i><b>3.4.1</b> Data tables</a></li>
<li class="chapter" data-level="3.4.2" data-path="estructuras-de-datos-fuera-de-r-basico.html"><a href="estructuras-de-datos-fuera-de-r-basico.html#tibbles"><i class="fa fa-check"></i><b>3.4.2</b> Tibbles</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="objetos-importantes.html"><a href="objetos-importantes.html"><i class="fa fa-check"></i><b>3.5</b> Objetos importantes</a><ul>
<li class="chapter" data-level="3.5.1" data-path="objetos-importantes.html"><a href="objetos-importantes.html#infinito"><i class="fa fa-check"></i><b>3.5.1</b> Infinito</a></li>
<li class="chapter" data-level="3.5.2" data-path="objetos-importantes.html"><a href="objetos-importantes.html#no-es-un-numero"><i class="fa fa-check"></i><b>3.5.2</b> No es un número</a></li>
<li class="chapter" data-level="3.5.3" data-path="objetos-importantes.html"><a href="objetos-importantes.html#valores-perdidos-missing-values"><i class="fa fa-check"></i><b>3.5.3</b> Valores perdidos (missing values)</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html"><i class="fa fa-check"></i><b>3.6</b> Estructuras de control</a><ul>
<li class="chapter" data-level="3.6.1" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#if"><i class="fa fa-check"></i><b>3.6.1</b> If</a></li>
<li class="chapter" data-level="3.6.2" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#for"><i class="fa fa-check"></i><b>3.6.2</b> For</a></li>
<li class="chapter" data-level="3.6.3" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#whiles"><i class="fa fa-check"></i><b>3.6.3</b> Whiles</a></li>
<li class="chapter" data-level="3.6.4" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#repeat---break"><i class="fa fa-check"></i><b>3.6.4</b> Repeat - Break</a></li>
<li class="chapter" data-level="3.6.5" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#next"><i class="fa fa-check"></i><b>3.6.5</b> Next</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="material-adicional-1.html"><a href="material-adicional-1.html"><i class="fa fa-check"></i><b>3.7</b> Material adicional</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="vectorizacion-la-familia-apply-y-otros.html"><a href="vectorizacion-la-familia-apply-y-otros.html"><i class="fa fa-check"></i><b>4</b> Vectorización, la familia apply y otros</a><ul>
<li class="chapter" data-level="4.1" data-path="subconjuntos-de-diferentes-estructuras-de-datos.html"><a href="subconjuntos-de-diferentes-estructuras-de-datos.html"><i class="fa fa-check"></i><b>4.1</b> Subconjuntos de diferentes estructuras de datos</a><ul>
<li class="chapter" data-level="4.1.1" data-path="subconjuntos-de-diferentes-estructuras-de-datos.html"><a href="subconjuntos-de-diferentes-estructuras-de-datos.html#operadores-para-extraer-subconjuntos"><i class="fa fa-check"></i><b>4.1.1</b> Operadores para extraer subconjuntos</a></li>
<li class="chapter" data-level="4.1.2" data-path="subconjuntos-de-diferentes-estructuras-de-datos.html"><a href="subconjuntos-de-diferentes-estructuras-de-datos.html#asignar-a-un-subconjunto"><i class="fa fa-check"></i><b>4.1.2</b> Asignar a un subconjunto</a></li>
<li class="chapter" data-level="4.1.3" data-path="subconjuntos-de-diferentes-estructuras-de-datos.html"><a href="subconjuntos-de-diferentes-estructuras-de-datos.html#operadores-logicos"><i class="fa fa-check"></i><b>4.1.3</b> Operadores lógicos</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="aplicaciones.html"><a href="aplicaciones.html"><i class="fa fa-check"></i><b>4.2</b> Aplicaciones</a><ul>
<li class="chapter" data-level="4.2.1" data-path="aplicaciones.html"><a href="aplicaciones.html#buscarv-o-buscarh"><i class="fa fa-check"></i><b>4.2.1</b> Buscarv o buscarh</a></li>
<li class="chapter" data-level="4.2.2" data-path="aplicaciones.html"><a href="aplicaciones.html#muestras-aleatorias"><i class="fa fa-check"></i><b>4.2.2</b> Muestras aleatorias</a></li>
<li class="chapter" data-level="4.2.3" data-path="aplicaciones.html"><a href="aplicaciones.html#expande-bases"><i class="fa fa-check"></i><b>4.2.3</b> Expande bases</a></li>
<li class="chapter" data-level="4.2.4" data-path="aplicaciones.html"><a href="aplicaciones.html#which-intersect-y-union"><i class="fa fa-check"></i><b>4.2.4</b> Which, intersect y union</a></li>
<li class="chapter" data-level="4.2.5" data-path="aplicaciones.html"><a href="aplicaciones.html#generacion-de-datos-a-partir-de-distribuciones"><i class="fa fa-check"></i><b>4.2.5</b> Generación de datos a partir de distribuciones</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="split-apply-combine.html"><a href="split-apply-combine.html"><i class="fa fa-check"></i><b>4.3</b> Split-apply-combine</a><ul>
<li class="chapter" data-level="4.3.1" data-path="split-apply-combine.html"><a href="split-apply-combine.html#apply"><i class="fa fa-check"></i><b>4.3.1</b> apply</a></li>
<li class="chapter" data-level="4.3.2" data-path="split-apply-combine.html"><a href="split-apply-combine.html#lapply"><i class="fa fa-check"></i><b>4.3.2</b> lapply</a></li>
<li class="chapter" data-level="4.3.3" data-path="split-apply-combine.html"><a href="split-apply-combine.html#sapply"><i class="fa fa-check"></i><b>4.3.3</b> sapply</a></li>
<li class="chapter" data-level="4.3.4" data-path="split-apply-combine.html"><a href="split-apply-combine.html#mapply"><i class="fa fa-check"></i><b>4.3.4</b> mapply</a></li>
<li class="chapter" data-level="4.3.5" data-path="split-apply-combine.html"><a href="split-apply-combine.html#tapply"><i class="fa fa-check"></i><b>4.3.5</b> tapply</a></li>
<li class="chapter" data-level="4.3.6" data-path="split-apply-combine.html"><a href="split-apply-combine.html#by"><i class="fa fa-check"></i><b>4.3.6</b> by</a></li>
<li class="chapter" data-level="4.3.7" data-path="split-apply-combine.html"><a href="split-apply-combine.html#replicate"><i class="fa fa-check"></i><b>4.3.7</b> replicate</a></li>
<li class="chapter" data-level="4.3.8" data-path="split-apply-combine.html"><a href="split-apply-combine.html#puede-ser-mas-facil"><i class="fa fa-check"></i><b>4.3.8</b> ¿Puede ser más fácil?</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="material-adicional-2.html"><a href="material-adicional-2.html"><i class="fa fa-check"></i><b>4.4</b> Material adicional</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="herramientas-basicas-para-un-proyecto-de-datos.html"><a href="herramientas-basicas-para-un-proyecto-de-datos.html"><i class="fa fa-check"></i><b>5</b> Herramientas básicas para un proyecto de datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html"><i class="fa fa-check"></i><b>5.1</b> Importación de datos</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#rds"><i class="fa fa-check"></i><b>5.1.1</b> rds</a></li>
<li class="chapter" data-level="5.1.2" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#separado-por"><i class="fa fa-check"></i><b>5.1.2</b> separado por *</a></li>
<li class="chapter" data-level="5.1.3" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#csv"><i class="fa fa-check"></i><b>5.1.3</b> csv (archivo separado por comas)</a></li>
<li class="chapter" data-level="5.1.4" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#microsoft-excel"><i class="fa fa-check"></i><b>5.1.4</b> Microsoft Excel</a></li>
<li class="chapter" data-level="5.1.5" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#dbf"><i class="fa fa-check"></i><b>5.1.5</b> dbf</a></li>
<li class="chapter" data-level="5.1.6" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#ibm-spss"><i class="fa fa-check"></i><b>5.1.6</b> IBM SPSS</a></li>
<li class="chapter" data-level="5.1.7" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#stata"><i class="fa fa-check"></i><b>5.1.7</b> Stata</a></li>
<li class="chapter" data-level="5.1.8" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#sas"><i class="fa fa-check"></i><b>5.1.8</b> SAS</a></li>
<li class="chapter" data-level="5.1.9" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#google-spreadsheet"><i class="fa fa-check"></i><b>5.1.9</b> Google Spreadsheet</a></li>
<li class="chapter" data-level="5.1.10" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#google-bigquery"><i class="fa fa-check"></i><b>5.1.10</b> Google bigquery</a></li>
<li class="chapter" data-level="5.1.11" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#heroku-postgres"><i class="fa fa-check"></i><b>5.1.11</b> Heroku Postgres</a></li>
<li class="chapter" data-level="5.1.12" data-path="importacion-de-datos.html"><a href="importacion-de-datos.html#rdata"><i class="fa fa-check"></i><b>5.1.12</b> rdata</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html"><i class="fa fa-check"></i><b>5.2</b> Transformación de datos</a><ul>
<li class="chapter" data-level="5.2.1" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#tareas-comunes-en-la-manipulacion-de-datos"><i class="fa fa-check"></i><b>5.2.1</b> Tareas comunes en la manipulación de datos</a></li>
<li class="chapter" data-level="5.2.2" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#extraccion-de-subconjuntos-de-observaciones"><i class="fa fa-check"></i><b>5.2.2</b> Extracción de subconjuntos de observaciones</a></li>
<li class="chapter" data-level="5.2.3" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#extraccion-de-subconjuntos-de-variables-select"><i class="fa fa-check"></i><b>5.2.3</b> Extracción de subconjuntos de variables (<em>select</em>)</a></li>
<li class="chapter" data-level="5.2.4" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#creacion-de-resumenes-de-datos"><i class="fa fa-check"></i><b>5.2.4</b> Creación de resumenes de datos</a></li>
<li class="chapter" data-level="5.2.5" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#creacion-de-nuevas-variables"><i class="fa fa-check"></i><b>5.2.5</b> Creación de nuevas variables</a></li>
<li class="chapter" data-level="5.2.6" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#combinacion-de-conjuntos-de-datos-joins"><i class="fa fa-check"></i><b>5.2.6</b> Combinación de conjuntos de datos (<em>joins</em>)</a></li>
<li class="chapter" data-level="5.2.7" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#agrupar-datos"><i class="fa fa-check"></i><b>5.2.7</b> Agrupar datos</a></li>
<li class="chapter" data-level="5.2.8" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#reorganizar-datos"><i class="fa fa-check"></i><b>5.2.8</b> Reorganizar datos</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="datos-limpios.html"><a href="datos-limpios.html"><i class="fa fa-check"></i><b>5.3</b> Datos limpios</a><ul>
<li class="chapter" data-level="5.3.1" data-path="datos-limpios.html"><a href="datos-limpios.html#datos-limpios-1"><i class="fa fa-check"></i><b>5.3.1</b> Datos limpios</a></li>
<li class="chapter" data-level="5.3.2" data-path="datos-limpios.html"><a href="datos-limpios.html#de-sucio-a-limpio"><i class="fa fa-check"></i><b>5.3.2</b> De sucio a limpio</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="visualizacion.html"><a href="visualizacion.html"><i class="fa fa-check"></i><b>5.4</b> Visualización</a><ul>
<li class="chapter" data-level="5.4.1" data-path="visualizacion.html"><a href="visualizacion.html#la-gramatica-de-las-graficas"><i class="fa fa-check"></i><b>5.4.1</b> La gramática de las gráficas</a></li>
<li class="chapter" data-level="5.4.2" data-path="visualizacion.html"><a href="visualizacion.html#que-es"><i class="fa fa-check"></i><b>5.4.2</b> ¿Qué es?</a></li>
<li class="chapter" data-level="5.4.3" data-path="visualizacion.html"><a href="visualizacion.html#base-plotting-vs.ggplot"><i class="fa fa-check"></i><b>5.4.3</b> Base plotting vs. ggplot</a></li>
<li class="chapter" data-level="5.4.4" data-path="visualizacion.html"><a href="visualizacion.html#ggplot"><i class="fa fa-check"></i><b>5.4.4</b> ggplot</a></li>
<li class="chapter" data-level="5.4.5" data-path="visualizacion.html"><a href="visualizacion.html#caracteristicas-importantes"><i class="fa fa-check"></i><b>5.4.5</b> Características importantes</a></li>
<li class="chapter" data-level="5.4.6" data-path="visualizacion.html"><a href="visualizacion.html#las-capas"><i class="fa fa-check"></i><b>5.4.6</b> Las capas</a></li>
<li class="chapter" data-level="5.4.7" data-path="visualizacion.html"><a href="visualizacion.html#componentes-de-una-capa"><i class="fa fa-check"></i><b>5.4.7</b> Componentes de una capa</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="material-adicional-3.html"><a href="material-adicional-3.html"><i class="fa fa-check"></i><b>5.5</b> Material adicional</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusión</a></li>
<li class="appendix"><span><b>Apéndices</b></span></li>
<li class="chapter" data-level="A" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>A</b> Markdown</a><ul>
<li class="chapter" data-level="A.1" data-path="encabezados.html"><a href="encabezados.html"><i class="fa fa-check"></i><b>A.1</b> Encabezados</a></li>
<li class="chapter" data-level="A.2" data-path="lineas-horizontales.html"><a href="lineas-horizontales.html"><i class="fa fa-check"></i><b>A.2</b> Lineas horizontales</a></li>
<li class="chapter" data-level="A.3" data-path="enfasis.html"><a href="enfasis.html"><i class="fa fa-check"></i><b>A.3</b> Énfasis</a></li>
<li class="chapter" data-level="A.4" data-path="bloques.html"><a href="bloques.html"><i class="fa fa-check"></i><b>A.4</b> Bloques</a></li>
<li class="chapter" data-level="A.5" data-path="listas-1.html"><a href="listas-1.html"><i class="fa fa-check"></i><b>A.5</b> Listas</a></li>
<li class="chapter" data-level="A.6" data-path="links.html"><a href="links.html"><i class="fa fa-check"></i><b>A.6</b> Links</a></li>
<li class="chapter" data-level="A.7" data-path="imagenes.html"><a href="imagenes.html"><i class="fa fa-check"></i><b>A.7</b> Imágenes</a></li>
<li class="chapter" data-level="A.8" data-path="tablas.html"><a href="tablas.html"><i class="fa fa-check"></i><b>A.8</b> Tablas</a></li>
<li class="chapter" data-level="A.9" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>A.9</b> HTML</a></li>
<li class="chapter" data-level="A.10" data-path="codigo.html"><a href="codigo.html"><i class="fa fa-check"></i><b>A.10</b> Código</a></li>
<li class="chapter" data-level="A.11" data-path="parrafos.html"><a href="parrafos.html"><i class="fa fa-check"></i><b>A.11</b> Párrafos</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="packrat.html"><a href="packrat.html"><i class="fa fa-check"></i><b>B</b> Packrat</a><ul>
<li class="chapter" data-level="B.1" data-path="el-directorio-del-proyecto.html"><a href="el-directorio-del-proyecto.html"><i class="fa fa-check"></i><b>B.1</b> El directorio del proyecto</a></li>
<li class="chapter" data-level="B.2" data-path="instalacion-1.html"><a href="instalacion-1.html"><i class="fa fa-check"></i><b>B.2</b> Instalación</a></li>
<li class="chapter" data-level="B.3" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>B.3</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="formatos.html"><a href="formatos.html"><i class="fa fa-check"></i><b>C</b> Formatos</a></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">aprendeR</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizacion" class="section level2">
<h2><span class="header-section-number">5.4</span> Visualización</h2>
<p>La graficación es una manera eficiente de resumir, y mostrar información. Es fundamental entender el contexto de negocio y de la generación de los datos para tener más información con respecto a lo que se está graficando.</p>
<p>Aunque no hay mucha teoría alrededor de gráficos estadísticos, muchos se describen en distintos libros de texto de estadística <span class="citation">(Unwin <a href="#ref-unwin2015">2015</a>, Introducción)</span>.</p>
<p><span class="citation">(Unwin <a href="#ref-unwin2015">2015</a>, citando a John Tukey)</span> resume el propósito de la visualización de datos en cuatro frases:</p>
<ol style="list-style-type: decimal">
<li>Las gráficas son para análsisis cualitativos o descriptivos y quizá semi cuantitativos, nunca para análisis profundo cuantitativo (las tablas son mejores para esta tarea).</li>
<li>Las gráficas son para realizar comparaciones (en el tiempo, entre grupos), no para describir cantidades particulares.</li>
<li>Las gráficas son para impactar (visualmente, para sorprender, para transmitir información), pero casi nunca sirven para reflejar patrones escondidos en los datos.</li>
<li>Las gráficas deberían de reportar un análisis de datos trabajado, fino y cuidadoso. Jamás deben de reemplazar el análisis. Las gráficas están para fortalecer el análisis, no para fundamentarlo y los gráficos finales en un análisis deben reflejar el análisis realizado.</li>
</ol>
<p>Esta sección resume algunas de las funciones implementadas para <strong>visualizar</strong> datos implementados en el paquete <code>ggplot2</code> de <code>R</code>. Está fuera de la alcance de este apartado las consideraciones estadísticas que deben de realizarse en un análisis de datos pues el enfoque es mostrar cómo realizar esta tarea en <code>R</code>. En la figura  podemos ver la etapa del análisis de datos correspondiente.</p>
<div class="figure" style="text-align: center"><span id="fig:ciclo4"></span>
<img src="images/02_ciclo_4.png" alt="Visualización en el análisis de datos [@grolemund2016r, Introducción]." width="75%" />
<p class="caption">
Figura 5.11: Visualización en el análisis de datos <span class="citation">(Grolemund and Wickham <a href="#ref-grolemund2016r">2016</a>, Introducción)</span>.
</p>
</div>
<p>En <code>R</code> hay muchas maneras de realizar una tarea, esto es particularmente cierto en lo que se refiere a visualización de datos <span class="citation">(Yau <a href="#ref-basevggplot">2016</a>)</span>. A fin de cuentas, lo más importante de la visualización de datos es cuán útil es esta herramienta para el análisis de datos y la forma en la que se le indica a la máquina como realizar la tarea es un elemento importante solo en la medida en la que facilite el trabajo del estadístico.</p>
<p>Aunque posiblemente cualquiera de los gráficos que se pueden hacer con <code>ggplot2</code> pueden hacerse también con los gráficos implementados en el <code>base graphics</code> de <code>R</code> <span class="citation">(Yau <a href="#ref-basevggplot">2016</a>)</span>, aquí se cubre visualización en <code>ggplot2</code> principalmente debido a que:</p>
<ul>
<li>El patrón de programación está definido formalmente mientras que en el <code>base</code> no lo está. Esto significa que cuando entiendes cómo hacer una gráfica en <code>ggplot2</code>, puedes hacer una gran cantidad de gráficos <span class="citation">(Yau <a href="#ref-basevggplot">2016</a>)</span>.</li>
<li><code>ggplot2</code> tiene una gran cantidad de <em>defaults</em> predefinidos que facilitan realizar gráficos ilustrativos y estéticos muy rápidamente <span class="citation">(Mejia <a href="#ref-reasonsggplot">2013</a>)</span>.</li>
<li><code>ggplot2</code> es compatible con <em>piping</em><a href="#fn15" class="footnoteRef" id="fnref15"><sup>15</sup></a> <span class="citation">(Leek <a href="#ref-notggplot">2016</a>)</span>.</li>
<li>Muchas veces, resulta necesario realizar un mismo gráfico para varios subconjuntos de datos. Esta tarea se puede hacer en forma directa en <code>ggplot2</code> y no en el <code>base</code> a través de facetas.</li>
</ul>
<p>Primero, se cubrirá el concepto detrás de <code>ggplot2</code>, la gramática de las gráficas. Posteriormente, se describen los componentes de una gráfica en <code>ggplot2</code>, las capas y sus componentes proporcionando ejemplos en cada caso.</p>
<div id="la-gramatica-de-las-graficas" class="section level3">
<h3><span class="header-section-number">5.4.1</span> La gramática de las gráficas</h3>
<p>Es una herramienta que nos permite <span class="citation">(Wickham <a href="#ref-wickham2010layered">2010</a>)</span>:</p>
<ul>
<li>Describir los componentes de una gráfica en forma concisa</li>
<li>Ir más allá de los nombres de la gráfica (e.g. scatterplot, boxplot, etc.)</li>
<li>Entender la estructura detrás de los gráficos estadísticos</li>
</ul>
</div>
<div id="que-es" class="section level3">
<h3><span class="header-section-number">5.4.2</span> ¿Qué es?</h3>
<p>La gramática le da reglas al lenguaje y es un sistema formal para generar enunciados <span class="citation">(Wilkinson <a href="#ref-wilkinson2006grammar">2006</a>)</span>. <span class="citation">Wilkinson (<a href="#ref-wilkinson2006grammar">2006</a>)</span> proporciona una gramática para gráficos que permite describir y construir una gran cantidad de gráficos estadísticos. <span class="citation">(Wickham <a href="#ref-wickham2010layered">2010</a>)</span> implementa esta gramática en el paquete <code>ggplot2</code> de <code>R</code> <span class="citation">(Wickham <a href="#ref-ggplot2">2009</a>)</span>.</p>
<p>La gramática define un gráfico estadístico como un mapeo de datos a atributos estéticos (un color, una forma) en objetos geométricos (barras, líneas, puntos). Además, una gráfica puede implicar transformaciones estadísticas de los datos y se dibuja sobre un sistema de coordenadas específico. Por último, es posible generar el mismo gráfico en diferentes subconjuntos de los datos (facetas). La combinación de estos factores independientes conforman un gráfico <span class="citation">(Wickham <a href="#ref-ggplot2">2009</a>, pág. 5)</span>.</p>
<p>La implementación en capas, permite que los usuarios no se limiten únicamente a los gráficos específicos que se implementan paquete a paquete sino que puedan realizar tantos gráficos como este lenguaje de gráficos permita.</p>
</div>
<div id="base-plotting-vs.ggplot" class="section level3">
<h3><span class="header-section-number">5.4.3</span> Base plotting vs. ggplot</h3>
<p>Observemos una gráfica utilizando la base <code>diamonds</code> en donde graficamos en el eje <span class="math inline">\(x\)</span> el carataje de diamantes y en el eje <span class="math inline">\(y\)</span> su precio:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(diamonds, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)
<span class="kw">str</span>(diamonds)</code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    53940 obs. of  10 variables:
##  $ carat  : num  0.23 0.21 0.23 0.29 0.31 0.24 0.24 0.26 0.22 0.23 ...
##  $ cut    : Ord.factor w/ 5 levels &quot;Fair&quot;&lt;&quot;Good&quot;&lt;..: 5 4 2 4 2 3 3 3 1 3 ...
##  $ color  : Ord.factor w/ 7 levels &quot;D&quot;&lt;&quot;E&quot;&lt;&quot;F&quot;&lt;&quot;G&quot;&lt;..: 2 2 2 6 7 7 6 5 2 5 ...
##  $ clarity: Ord.factor w/ 8 levels &quot;I1&quot;&lt;&quot;SI2&quot;&lt;&quot;SI1&quot;&lt;..: 2 3 5 4 2 6 7 3 4 5 ...
##  $ depth  : num  61.5 59.8 56.9 62.4 63.3 62.8 62.3 61.9 65.1 59.4 ...
##  $ table  : num  55 61 65 58 58 57 57 55 61 61 ...
##  $ price  : int  326 326 327 334 335 336 336 337 337 338 ...
##  $ x      : num  3.95 3.89 4.05 4.2 4.34 3.94 3.95 4.07 3.87 4 ...
##  $ y      : num  3.98 3.84 4.07 4.23 4.35 3.96 3.98 4.11 3.78 4.05 ...
##  $ z      : num  2.43 2.31 2.31 2.63 2.75 2.48 2.47 2.53 2.49 2.39 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(diamonds<span class="op">$</span>carat, diamonds<span class="op">$</span>price)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-303-1.png" width="672" /></p>
<p>Ese mismo gráfico, podemos realizarlo con la función <code>qplot</code> del paquete<code>ggplot</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qplot</span>(<span class="dt">data =</span> diamonds, <span class="dt">x =</span> carat, <span class="dt">y =</span> price, <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-304-1.png" width="672" /></p>
<p>En donde especificamos que la variable <code>carat</code> en la base <code>diamonds</code> mapea al eje <span class="math inline">\(x\)</span>, la variable <code>price</code> en la misma base al eje <span class="math inline">\(y\)</span> y queremos que la geometría sea de puntos.</p>
<p>Observa que la estética de la gráfica generada con la función <code>plot</code> es un poco distinta a la generada con <code>qplot</code> (función que utiliza <code>ggplot</code>). Verifica la clase que tiene cada objeto, en el primer caso no tiene y en el segundo tenemos un objeto de clase <code>ggplot</code> que tiene atributos y que podemos guardar en un objeto.</p>
</div>
<div id="ggplot" class="section level3">
<h3><span class="header-section-number">5.4.4</span> ggplot</h3>
<p>Los componentes de la gramática de gráficas específica para <code>ggplot</code> son:</p>
<ol style="list-style-type: decimal">
<li>Una o más capas donde cada cuál tiene:
<ol style="list-style-type: lower-alpha">
<li>Datos</li>
<li>Mapeo estético de los datos (<em>aesthetic mappings</em>)</li>
<li>Un objeto geométrico</li>
<li>Una transformación estadística</li>
<li>Ajustes en las posiciones de los objetos</li>
</ol></li>
<li>Una escala para cada estética</li>
<li>Un sistema de coordenadas</li>
<li>Una especificación de facetas</li>
</ol>
<p>Al graficar en <code>ggplot</code> se tiene control sobre todos estos elementos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">layer</span>( <span class="co"># una capa</span>
    <span class="dt">data =</span> diamonds, <span class="co"># datos</span>
    <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price), <span class="co"># mapeo estético</span>
    <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="co"># geometría</span>
    <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="co"># transformación estadística</span>
    <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span> <span class="co"># ajuste en posición de objetos</span>
    ) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>() <span class="op">+</span><span class="st"> </span><span class="co"># Escala para estética continua en y</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>() <span class="op">+</span><span class="st"> </span><span class="co"># Escala para estética continua en x</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>() <span class="co"># Sistema de coordenadas</span></code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-305-1.png" width="672" /></p>
<p><code>ggplot</code> implementa también una serie de <code>defaults</code> <span class="citation">(Wickham <a href="#ref-ggplot2">2009</a>, pág. 3)</span> que facilitan la escritura de nuevas gráficas pues no es necesario especificar cada uno de los detalles al agregar una capa. Por tanto, es posible escribir el mismo gráfico haciendo uso de esos <code>defaults</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(carat, price)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-306-1.png" width="672" /></p>
</div>
<div id="caracteristicas-importantes" class="section level3">
<h3><span class="header-section-number">5.4.5</span> Características importantes</h3>
<p>Los componentes de una gráfica son ortogonales:</p>
<pre><code>- Cambiar uno no debe romper los otros
- Una configuración distinta de componentes es válida
- Puedes construir mayor complejidad agregando capas</code></pre>
</div>
<div id="las-capas" class="section level3">
<h3><span class="header-section-number">5.4.6</span> Las capas</h3>
<p><code>ggplot</code> produce un objeto que se puede convertir en una gráfica. Es decir, <code>R</code> sabe cómo convertirlo en una gráfica.</p>
<p>Este objeto está formado por capas, mismas que tienen sus entradas (<em>inputs</em>) particulares y que comparten argumentos del gráfico <code>base</code> generado por la función <code>ggplot()</code>. Con el operador <code>+</code> se van agregando las distintas capas al mismo objeto.</p>
<p>Así como en otros casos, el objeto en <code>R</code> puede ser guardado en una variable, se le puede imprimir, se le puede guardar como imagen de diferentes formatos, o se puede guardar en una lista o en un <code>Rdata</code>.</p>
</div>
<div id="componentes-de-una-capa" class="section level3">
<h3><span class="header-section-number">5.4.7</span> Componentes de una capa</h3>
<div id="datos-y-mapa-estetico" class="section level4">
<h4><span class="header-section-number">5.4.7.1</span> Datos y mapa estético</h4>
<p>Permite mapear las columnas del <code>data.frame</code> de entrada a los aspectos de la gráfica.</p>
<p>Es decir,</p>
<ul>
<li>las coordenadas <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span></li>
<li>los grupos (definidos por otra variable)</li>
<li>el tamaño</li>
<li>el color</li>
<li>el relleno</li>
</ul>
<p>Para ejemplificar, generamos una variable <span class="math inline">\(x\)</span> que proviene de dos distribuciones normales: mil realizaciones <span class="math inline">\(N(0, 1)\)</span> y mil <span class="math inline">\(N(3, 1)\)</span>. Asignamos un grupo a las primeras mil y otro a la segunda.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mix2norm &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x  =</span> <span class="kw">c</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dv">3</span>)), 
                       <span class="dt">grupo =</span> <span class="kw">as.factor</span>(<span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dt">each=</span><span class="dv">1000</span>)))

<span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density</span>()</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-307-1.png" width="672" /></p>
</div>
<div id="transformaciones-estadisticas" class="section level4">
<h4><span class="header-section-number">5.4.7.2</span> Transformaciones estadísticas</h4>
<p>Ésta puede ser, por ejemplo, un resumen de la entrada (<em>input</em>) recibido; se especifica vía el comando <code>stat</code>. Ejemplos:</p>
<ul>
<li>binning</li>
<li>smoothing</li>
<li>boxplot</li>
<li>identity</li>
</ul>
<p>Utilizamos, por ejemplo, la transformación <em>bin</em>, misma que se especifica en el objeto geométrico:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">stat =</span> <span class="st">&quot;bin&quot;</span>, <span class="dt">binwidth =</span> <span class="fl">0.1</span>)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-308-1.png" width="672" /></p>
<p>La transformación utilizada tiene asociada parámetros como lo es el tamaño en el que deben realizarse los colapsos de la variable categórica (<em>binwidth</em>).</p>
</div>
<div id="el-objeto-geometrico" class="section level4">
<h4><span class="header-section-number">5.4.7.3</span> El objeto geométrico</h4>
<p>Esto permite especificar el tipo de gráfico a crear. Se especifica con la <code>geom</code>. Se define de acuerdo a su dimensión, es decir,</p>
<ul>
<li><code>0-dim</code>: puntos, texto</li>
<li><code>1-dim</code>: líneas</li>
<li><code>2-dim</code>: polígonos, intervalos</li>
</ul>
<p>Otras geometrías incluyen:</p>
<ul>
<li><code>geom_hist</code></li>
<li><code>geom_bar</code></li>
<li><code>geom_contour</code></li>
<li><code>geom_line</code></li>
<li><code>geom_density</code></li>
</ul>
<p>Además, se puede cambiar la transformación estadística manteniendo la geometría fijada. Al ejemplo anterior, le agregamos una transformación estadística dentro del objeto geométrico con el parámetro <code>adjust</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-309-1.png" width="672" /></p>
<p>En este caso, estamos pidiendo la mitad del tamaño del bin que se calcula en forma algorítmica por el paquete.</p>
<p>Viceversa, puede cambiarse la geometría pero mantener la transformación estadística.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span><span class="kw">stat_density</span>(<span class="dt">adjust =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-310-1.png" width="672" /></p>
<p>Revisa el comando <code>position</code> y <code>geometry</code>. Revisa sus defaults y copia algunos de los ejemplos en la documentación.</p>
<p><code>geom_density</code> por ejemplo utiliza <code>ribbon</code> o una cosa que a veces encontrarán en español como violín.</p>
<div class="ejercicio">
<p>
<strong>Ejercicios</strong>
</p>
<ol style="list-style-type: decimal">
<li>
Genera una gráfica con la función <code>ggplot</code> en donde los datos sea la base <code>diamonds</code> y la estética sea <span class="math inline"><span class="math inline">\(x = price\)</span></span>. Especifica como geometría una densidad.
</li>
<li>
Cambia el color y el relleno de la geometría a gris (<code>grey50</code>)
</li>
<li>
Cambia la geometría a <code>ribbon</code>, cambia los parámetros necesarios para que funcione.
</li>
<li>
Agrega una faceta para que se haga un gráfico para cada uno de los subconjuntos definidos por la variable <code>cut</code>.
</li>
<li>
Agrega a la gráfica el comando <code>coord_flip</code> para que el precio este en el eje <span class="math inline"><span class="math inline">\(y\)</span></span>.
</li>
</ol>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Respuestas</span>
<span class="co"># 1</span>
g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> price)) <span class="op">+</span><span class="st"> </span><span class="kw">stat_density</span>()
g
<span class="co"># 2</span>
g <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="dt">fill =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;grey50&quot;</span>) 
<span class="co"># 3</span>
g &lt;-<span class="st"> </span>g <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="kw">aes</span>(<span class="dt">ymax =</span> ..density..,  <span class="dt">ymin =</span> <span class="op">-</span>..density..),
    <span class="dt">fill =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;grey50&quot;</span>,
    <span class="dt">geom =</span> <span class="st">&quot;ribbon&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>)
g
<span class="co"># 4</span>
g &lt;-<span class="st"> </span>g  <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(. <span class="op">~</span><span class="st"> </span>cut) 
g
<span class="co"># 5</span>
g <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</code></pre></div>
</div>
<div id="posicion" class="section level4">
<h4><span class="header-section-number">5.4.7.4</span> Posición</h4>
<p>Es posible especificar la posición de cada una de las capas en relación a otras. Ejemplos:</p>
<ul>
<li><code>dodge</code></li>
<li><code>identity</code></li>
<li><code>jitter</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="dt">adjust=</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-313-1.png" width="672" /></p>
</div>
<div id="escalas" class="section level4">
<h4><span class="header-section-number">5.4.7.5</span> Escalas</h4>
<p>Determina cuál valor de entrada mapea a qué estética específica. Se escribe usando <code>scale</code>. Hay de todo:</p>
<ul>
<li><code>continous</code></li>
<li><code>logarithmic</code></li>
<li><code>values to shapes</code></li>
<li><code>what limits</code></li>
<li><code>what labels</code></li>
<li><code>what marks</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="dt">adjust=</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">position =</span><span class="st">&quot;identity&quot;</span>, <span class="dt">geom =</span><span class="st">&quot;line&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="fl">1e-5</span>,<span class="dv">1</span>))</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-314-1.png" width="672" /></p>
</div>
<div id="coordenadas" class="section level4">
<h4><span class="header-section-number">5.4.7.6</span> Coordenadas</h4>
<p>Te permite especificar las posiciones de las cosas y cómo mapean a las posiciones en la pantalla. Antes todo era entorno a cómo le dices las cosas a <code>R</code> pero también importa cómo las ves. Coordenadas distintas pueden afectar a los objetos geométricos. Ejemplos:</p>
<ul>
<li><code>cartesian</code></li>
<li><code>polar</code></li>
<li><code>map-projection</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="dt">adjust =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_polar</span>()</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-315-1.png" width="672" /></p>
</div>
<div id="facetas" class="section level4">
<h4><span class="header-section-number">5.4.7.7</span> Facetas</h4>
<p>Permite arreglar diferentes gráficas en un grid o panel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mix2norm, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">color =</span> grupo)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_density</span>(<span class="dt">adjust =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(grupo <span class="op">~</span><span class="st"> </span>.)</code></pre></div>
<p><img src="aprendeR_files/figure-html/unnamed-chunk-316-1.png" width="672" /></p>
<p>Ve el help de <code>facet_wrap</code></p>
</div>
</div>
</div>
<h3>Bibliografía</h3>
<div id="refs" class="references">
<div id="ref-unwin2015">
<p>Unwin, Antony. 2015. <em>Graphical Data Analysis with R</em>. Vol. 27. CRC Press.</p>
</div>
<div id="ref-grolemund2016r">
<p>Grolemund, G., and H. Wickham. 2016. <em>R for Data Science</em>. O’Reilly Media, Incorporated. <a href="http://r4ds.had.co.nz/" class="uri">http://r4ds.had.co.nz/</a>.</p>
</div>
<div id="ref-basevggplot">
<p>Yau, Nathan. 2016. “Comparing Ggplot2 and R Base Graphics.” Blog. <a href="https://flowingdata.com/2016/03/22/comparing-ggplot2-and-r-base-graphics/" class="uri">https://flowingdata.com/2016/03/22/comparing-ggplot2-and-r-base-graphics/</a>; Flowingdata.</p>
</div>
<div id="ref-reasonsggplot">
<p>Mejia, Mandy. 2013. “10 Reasons to Switch to Ggplot.” Blog. <a href="https://mandymejia.wordpress.com/2013/11/13/10-reasons-to-switch-to-ggplot-7/" class="uri">https://mandymejia.wordpress.com/2013/11/13/10-reasons-to-switch-to-ggplot-7/</a>.</p>
</div>
<div id="ref-notggplot">
<p>Leek, Jeff. 2016. “Why I Don’t Use Ggplot2.” Blog. <a href="https://simplystatistics.org/2016/02/11/why-i-dont-use-ggplot2/" class="uri">https://simplystatistics.org/2016/02/11/why-i-dont-use-ggplot2/</a>.</p>
</div>
<div id="ref-wickham2010layered">
<p>Wickham, Hadley. 2010. “A Layered Grammar of Graphics.” <em>Journal of Computational and Graphical Statistics</em> 19 (1). Taylor &amp; Francis: 3–28.</p>
</div>
<div id="ref-wilkinson2006grammar">
<p>Wilkinson, Leland. 2006. <em>The Grammar of Graphics</em>. Springer Science &amp; Business Media.</p>
</div>
<div id="ref-ggplot2">
<p>Wickham, Hadley. 2009. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="http://ggplot2.org" class="uri">http://ggplot2.org</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>Se introdujo el operador <em>pipe</em> de <code>R</code> en la sección de transformación en este capítulo y se mencionó como ayuda en la lectura y escritura de código. Un <em>pipeline</em> en programación consiste en un arreglo de elementos de procesamiento en donde la salida de cada elemento es la entrada del siguiente elemento. Este concepto fue concebido por Douglas Mcllroy <span class="citation">(Mahoney, n.d.)</span>.<a href="visualizacion.html#fnref15">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="datos-limpios.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="material-adicional-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": true,
"linkedin": true,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["aprendeR.pdf"],
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
